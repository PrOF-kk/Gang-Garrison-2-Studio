<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>ClassSelectS</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-120000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    alpha=0.01;
    done = false;
    newclass=-1;
    mousedclass=-1
    
    drawx[0]=24;
    drawx[1]=64;
    drawx[2]=104;
    drawx[3]=156;
    drawx[4]=196;
    drawx[5]=236;
    drawx[6]=288;
    drawx[7]=328;
    drawx[8]=368;
    drawx[9]=420;

    y=-120;
    portraitAnimations[0]=ScoutPortraitAnimation;
    portraitAnimations[1]=PyroPortraitAnimation;
    portraitAnimations[2]=SoldierPortraitAnimation;
    portraitAnimations[3]=HeavyPortraitAnimation;
    portraitAnimations[4]=DemomanPortraitAnimation;
    portraitAnimations[5]=MedicPortraitAnimation;
    portraitAnimations[6]=EngineerPortraitAnimation;
    portraitAnimations[7]=SpyPortraitAnimation;
    portraitAnimations[8]=SniperPortraitAnimation;
    portraitAnimations[9]=RandomPortraitAnimation;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(not done) {
    if(alpha&lt;0.99) alpha = power(alpha,power(0.7, global.delta_factor));
    else alpha = 0.99;
    if y&lt;120 y+=15 * global.delta_factor;
    if y&gt;120 y=120;
}
else {
    if(alpha&gt;0.01) alpha = power(alpha,power(1/0.7, global.delta_factor));
    y-=15 * global.delta_factor;
    if y &lt; -120 instance_destroy();
}

xoffset = view_xview[0];
yoffset = view_yview[0];

if mouse_x&gt;xoffset+24 &amp;&amp; mouse_x &lt;xoffset+60 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=0;
    text[0]="Runner";
    text[1]="Weapon: Scattergun";
    text[2]="Quick as the wind, the Runner";
    text[3]="excels in recovering objectives.";
    text[4]="He can double jump in mid-air.";
}

else if mouse_x&gt;xoffset+64 &amp;&amp; mouse_x &lt;xoffset+100 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=1;
    text[0]="Firebug";
    text[1]="Weapon: Flamethrower";
    text[2]="Gets close to burn his foes.";
    text[3]="Pushes enemies and projectiles";
    text[4]="away with a burst of air.";
}

else if mouse_x&gt;xoffset+104 &amp;&amp; mouse_x &lt;xoffset+140 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=2;
    text[0]="Rocketman";
    text[1]="Weapon: Rocket Launcher";
    text[2]="Strong yet graceful, he can";
    text[3]="launch himself skyward with his";
    text[4]="rockets as well as do damage.";
}

else if mouse_x&gt;xoffset+156 &amp;&amp; mouse_x &lt;xoffset+192 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=3;
    text[0]="Overweight";
    text[1]="Weapon: Minigun";
    text[2]="A mammoth of a man, carrying";
    text[3]="a heavy weapon that will shred";
    text[4]="enemies. He can sure eat, too!";
}

else if mouse_x&gt;xoffset+196 &amp;&amp; mouse_x &lt;xoffset+232 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=4;
    text[0]="Detonator";
    text[1]="Weapon: Mine Launcher";
    text[2]="A master of explosives, the";
    text[3]="Detonator can stick mines to";
    text[4]="any surface and set them off.";
}

else if mouse_x&gt;xoffset+236 &amp;&amp; mouse_x &lt;xoffset+272 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=5;
    text[0]="Healer";
    text[1]="Weapon: Needlegun";
    text[2]="His all-purpose healing gun can";
    text[3]="both heal his team from afar";
    text[4]="and rain syringes on foes.";
}

else if mouse_x&gt;xoffset+288 &amp;&amp; mouse_x &lt;xoffset+324 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=6;
    text[0]="Constructor";
    text[1]="Weapon: Shotgun";
    text[2]="A brilliant inventor, the";
    text[3]="Constructor can build sentry";
    text[4]="guns that protect whole areas.";
}

else if mouse_x&gt;xoffset+328 &amp;&amp; mouse_x &lt;xoffset+364 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=7;
    text[0]="Infiltrator";
    text[1]="Weapon: Revolver";
    text[2]="Can become invisible to slip";
    text[3]="behind enemy lines and deliver";
    text[4]="a fatal strike with his knife.";
}

else if mouse_x&gt;xoffset+368 &amp;&amp; mouse_x &lt;xoffset+404 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=8;
    text[0]="Rifleman";
    text[1]="Weapon: Sniper Rifle";
    text[2]="Armed with his trusty rifle";
    text[3]="and dead aim, his zoom scope";
    text[4]="allows him to attack from afar.";
}

else if mouse_x&gt;xoffset+420 &amp;&amp; mouse_x &lt;xoffset+456 &amp;&amp; mouse_y&lt;yoffset+50{
    newclass=9;
    text[0]="Random Select";
    text[1]="";
    text[2]="Can't decide? Let us choose";
    text[3]="a class for you to play.";
    text[4]="";
}

else newclass=-1;

if newclass != mousedclass &amp;&amp; newclass !=-1 &amp;&amp; y=120{
    if instance_exists(CharacterPortraitAnimation){
        with(CharacterPortraitAnimation){
            instance_destroy()
        }
    }
    if(newclass&gt;=0 and newclass&lt;=9) {
        instance_create(xoffset+230, yoffset+128, portraitAnimations[newclass]);
    }
    
        mousedclass=newclass; //set the 'moused class' (current moused class) to that of newclass
}       

if mouse_check_button(mb_left) &amp;&amp; newclass !=-1{
    if newclass==0 class = CLASS_SCOUT;
    else if newclass==1 class = CLASS_PYRO;
    else if newclass==2 class = CLASS_SOLDIER;
    else if newclass==3 class = CLASS_HEAVY;
    else if newclass==4 class = CLASS_DEMOMAN;
    else if newclass==5 class = CLASS_MEDIC;
    else if newclass==6 class = CLASS_ENGINEER;
    else if newclass==7 class = CLASS_SPY;
    else if newclass==8 class = CLASS_SNIPER;
    else class=random(9);
    event_user(1);
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    event_user(0);
    if((not done) and (class != global.myself.class))
    {
        ClientPlayerChangeclass(class, global.serverSocket);
        fct_socket_send(global.serverSocket);
    }
    done=true;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.startedGame = false;</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var xoffset, yoffset, xsize, ysize;
if(instance_exists(DeathCam)) exit;
if(!(global.myself.team==TEAM_RED || global.myself.team==TEAM_BLUE)) {
    instance_destroy();
    exit;
}

xoffset = view_xview[0];
yoffset = view_yview[0];
xsize = view_wview[0];
ysize = view_hview[0];

if alpha &lt; 0.8 draw_set_alpha(alpha);
else draw_set_alpha(0.8);
draw_rectangle_color(xoffset,yoffset,xoffset+xsize,yoffset+ysize,c_black,c_black,c_black,c_black,0);
    
draw_sprite_ext(ClassSelectBS, 0, xoffset+800, yoffset+y, max(0, xsize-800), 1, 0, c_white, alpha);
draw_sprite_ext(sprite_index, 0, xoffset+400, yoffset+y, 1, 1, 0, c_white, alpha);

draw_set_color(c_white);
draw_set_halign(fa_left);
draw_set_valign(fa_middle);
    
if newclass != -1 &amp;&amp; y==120 {
    if(global.myself.team==TEAM_RED) {
        indexoffset=0;
    } else if(global.myself.team==TEAM_BLUE) {
        indexoffset=10;
    } else {
        exit;
    }
    draw_sprite_ext(ClassSelectSpritesS,newclass+indexoffset,xoffset+drawx[newclass],yoffset,1,1,0,c_white, alpha);

    draw_text(xoffset+495,yoffset+80,text[0]);
    draw_text(xoffset+495,yoffset+100,text[1]);
    draw_text(xoffset+495,yoffset+120,text[2]);
    draw_text(xoffset+495,yoffset+130,text[3]);
    draw_text(xoffset+495,yoffset+140,text[4]);
}

var classConstant, number, classCounter;
for (a=0; a&lt;10; a+=1) classCounter[a] = 0

with Player
{
    if team == global.myself.team
    {
        classCounter[class] += 1
    }
}
    
for(i=0; i&lt;9; i+=1)
{
    if i==0 classConstant = CLASS_SCOUT;
    else if i==1 classConstant = CLASS_PYRO;
    else if i==2 classConstant = CLASS_SOLDIER;
    else if i==3 classConstant = CLASS_HEAVY;
    else if i==4 classConstant = CLASS_DEMOMAN;
    else if i==5 classConstant = CLASS_MEDIC;
    else if i==6 classConstant = CLASS_ENGINEER;
    else if i==7 classConstant = CLASS_SPY;
    else if i==8 classConstant = CLASS_SNIPER;
    
    number = classCounter[classConstant]

    if global.classlimits[classConstant] &lt; 255// Not disabled
    {
        if number &lt; global.classlimits[classConstant]
        {
            draw_set_color(c_white);
        }
        else
        {
            draw_set_color(c_red);
        }
        draw_text(xoffset+drawx[i]+3, yoffset+43+(y-120), string(number)+"/"+string(global.classlimits[classConstant]));
    }
    else if number != 0
    {
        draw_set_color(c_white);
        draw_text(xoffset+drawx[i]+3, yoffset+43+(y-120), string(number));
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="81">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_QUOTE;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="57">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_SNIPER;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_SPY;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="55">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_ENGINEER;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="54">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_MEDIC;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_DEMOMAN;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="52">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_HEAVY;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="51">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_SOLDIER;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="50">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_PYRO;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="49">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = CLASS_SCOUT;
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="48">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>{
    class = random(9);
    event_user(1);
}</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
